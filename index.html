<!DOCTYPE html>
<html lang="ru">
<head>
<!-- ... (весь ваш существующий HEAD код, CSS и мета-теги) ... -->
<style>
/* ... (весь ваш существующий CSS) ... */
</style>
</head>

<body>

<!-- ИЗМЕНЕНИЕ 1: Заменяем весь старый HTML-код меню на этот DIV -->
<header id="menu-container"></header>

<main>
<section>
<h1>Murinsk (Муринск) — город в Minecraft</h1>
<p data-ru>Murinsk — это город в Minecraft.</p>
<p data-en style="display: none;">Murinsk is a city in Minecraft.</p>
</section>
</main>

<footer>© Murinsk · visitmurinsk.ru</footer>

<script>
// НОВЫЙ код: Загружает menu.html и запускает функции после загрузки
fetch('menu.html')
    .then(response => response.text())
    .then(html => {
        document.getElementById('menu-container').innerHTML = html;
        initializeMenuFunctions(); // Запускаем ваши скрипты, включая переключение языка
    });


// ВАШ СТАРЫЙ СКРИПТ (теперь внутри функции)
function initializeMenuFunctions() {
    const menuBtn=document.getElementById('menuBtn');
    const menu=document.getElementById('menu');
    const themeBtn=document.getElementById('themeBtn');
    const langBtn=document.getElementById('langBtn');

    menuBtn.onclick=()=>{
    menuBtn.classList.toggle('open');
    menu.classList.toggle('show');
    };

    if(matchMedia('(prefers-color-scheme: dark)').matches){
    document.body.classList.add('dark');
    }
    themeBtn.onclick=()=>document.body.classList.toggle('dark');

    let lang='ru';
    function updateLang(){
    langBtn.textContent=lang.toUpperCase();
    // Этот querySelectorAll теперь найдет элементы data-ru/data-en как в main, так и внутри загруженного меню
    document.querySelectorAll('[data-ru]').forEach(e=>e.style.display=lang==='ru'?'block':'none');
    document.querySelectorAll('[data-en]').forEach(e=>e.style.display=lang==='en'?'block':'none');
    }
    langBtn.onclick=()=>{
    lang=lang==='ru'?'en':'ru';
    langBtn.animate(
    [{transform:'scale(1)'},{transform:'scale(1.15)'},{transform:'scale(1)'}],
    {duration:200}
    );
    updateLang();
    };
    
    // ВАЖНО: Вызываем функцию обновления сразу после инициализации
    updateLang(); 
}
</script>

</body>
</html>
